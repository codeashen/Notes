(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{339:function(a,t,s){"use strict";s.r(t);var e=s(4),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"微服务行话"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#微服务行话"}},[a._v("#")]),a._v(" 微服务行话")]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s3.ax1x.com/2020/11/24/DtQRR1.png",alt:"image-20201124103554660"}})]),a._v(" "),t("blockquote",[t("p",[a._v("Spring Cloud提供了完整的服务治理的实现，而Dubbo更多的是将RPC玩到了极致。\n学Spring Cloud不学服务治理还不如用Dubbo，Dubbo调用上体验好很多")])]),a._v(" "),t("h2",{attrs:{id:"eureka概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka概述"}},[a._v("#")]),a._v(" Eureka概述")]),a._v(" "),t("h3",{attrs:{id:"eureka简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka简介"}},[a._v("#")]),a._v(" Eureka简介")]),a._v(" "),t("ul",[t("li",[a._v("Eureka 是Spring Clould Netflix的核心子模块")]),a._v(" "),t("li",[a._v("Eureka包含：Eureka Server和Eureka Client")]),a._v(" "),t("li",[a._v("Server提供服务注册服务，存储所有可用服务节点")]),a._v(" "),t("li",[a._v("Client用于简化与Server通讯复杂度")])]),a._v(" "),t("p",[t("img",{attrs:{src:"https://s3.ax1x.com/2020/11/24/DtGdDP.png",alt:"image-20201124105718120"}})]),a._v(" "),t("h3",{attrs:{id:"eureka依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka依赖"}},[a._v("#")]),a._v(" Eureka依赖")]),a._v(" "),t("div",{staticClass:"language-xml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- Eureka服务器依赖 --\x3e")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.springframework.cloud"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("spring-cloud-starter-netflix-eureka-server"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("\x3c!-- Eureka客户端依赖 --\x3e")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("org.springframework.cloud"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("groupId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("spring-cloud-starter-netflix-eureka-client"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("artifactId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("</")]),a._v("dependency")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("h2",{attrs:{id:"eureka高级特性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka高级特性"}},[a._v("#")]),a._v(" Eureka高级特性")]),a._v(" "),t("h3",{attrs:{id:"服务注册"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务注册"}},[a._v("#")]),a._v(" 服务注册")]),a._v(" "),t("ul",[t("li",[a._v("Eureka Client在第一次心跳时像Eureka Server注册")]),a._v(" "),t("li",[a._v("注册时会提供诸多自身元数据：主机名、端口、健康表示url等")])]),a._v(" "),t("h3",{attrs:{id:"服务续约"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务续约"}},[a._v("#")]),a._v(" 服务续约")]),a._v(" "),t("ul",[t("li",[a._v("Eureka Client通过发送心跳进行续约")]),a._v(" "),t("li",[a._v("默认情况下每30s发送一次心跳")]),a._v(" "),t("li",[a._v("如果90s内Eureka Server未收到续约，则进行服务剔除")])]),a._v(" "),t("h3",{attrs:{id:"服务下线"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务下线"}},[a._v("#")]),a._v(" 服务下线")]),a._v(" "),t("ul",[t("li",[a._v("Eureka Client优雅推出时会发送cancel命令")]),a._v(" "),t("li",[a._v("Eureka Server收到cancel命令时会删除该节点")])]),a._v(" "),t("h3",{attrs:{id:"获取注册列表信息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取注册列表信息"}},[a._v("#")]),a._v(" 获取注册列表信息")]),a._v(" "),t("ul",[t("li",[a._v("Eureka Client会缓存由Server获取的注册表信息")]),a._v(" "),t("li",[a._v("Eureka Client会定期更新注册表信息【默认30s】")]),a._v(" "),t("li",[a._v("Eureka Client会处理注册表的合并等内容")])]),a._v(" "),t("h2",{attrs:{id:"eureka面试点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka面试点"}},[a._v("#")]),a._v(" Eureka面试点")]),a._v(" "),t("h3",{attrs:{id:"eureka与zookeeper比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka与zookeeper比较"}},[a._v("#")]),a._v(" Eureka与Zookeeper比较")]),a._v(" "),t("h4",{attrs:{id:"cap理论"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cap理论"}},[a._v("#")]),a._v(" CAP理论")]),a._v(" "),t("ul",[t("li",[a._v("一致性：Consistency")]),a._v(" "),t("li",[a._v("可用性：Availability")]),a._v(" "),t("li",[a._v("分区容错性：Partition tolerance")])]),a._v(" "),t("h4",{attrs:{id:"多注册中心比较"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多注册中心比较"}},[a._v("#")]),a._v(" 多注册中心比较")]),a._v(" "),t("ul",[t("li",[a._v("分布式基础：CAP理论")]),a._v(" "),t("li",[a._v("常见注册中心：Zookeeper")]),a._v(" "),t("li",[a._v("Eureka主要保证AP特性")]),a._v(" "),t("li",[a._v("Zookeeper是典型的CP特性")])]),a._v(" "),t("h3",{attrs:{id:"eureka注册慢"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka注册慢"}},[a._v("#")]),a._v(" Eureka注册慢")]),a._v(" "),t("ul",[t("li",[a._v("注册慢的根本原因在于Eureka的AP特性")]),a._v(" "),t("li",[a._v("Eureka Client延时注册，默认30s")]),a._v(" "),t("li",[a._v("Eureka Server的响应缓存，默认30s")]),a._v(" "),t("li",[a._v("Eureka Server的缓存刷新，默认30s")])]),a._v(" "),t("h3",{attrs:{id:"eureka的自我保护"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka的自我保护"}},[a._v("#")]),a._v(" Eureka的自我保护")]),a._v(" "),t("ul",[t("li",[a._v("Eureka Server会自动更新续约更新阈值")]),a._v(" "),t("li",[a._v("Eureka Server续约更新频率低于阈值则进入保护模式")]),a._v(" "),t("li",[a._v("自我保护模式下Eureka Server不会踢出任何注册信息")])])])}),[],!1,null,null,null);t.default=r.exports}}]);