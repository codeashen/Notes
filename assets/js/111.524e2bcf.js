(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{436:function(s,a,e){"use strict";e.r(a);var n=e(4),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("什么是 Jenkins")]),s._v(" "),a("ul",[a("li",[s._v("Jenkins 是一个开源持续集成工具")]),s._v(" "),a("li",[s._v("开发工具：JAVA")]),s._v(" "),a("li",[s._v("功能：提供了软件开发的持续集成服务")]),s._v(" "),a("li",[s._v("特点：支持主流软件配置管理，配合实现软件配置管理，持续集成功能")])]),s._v(" "),a("p",[s._v("Jenkins 的优势和应用场景")]),s._v(" "),a("ul",[a("li",[s._v("主流的运维开发平台，兼容所有主流开发环境")]),s._v(" "),a("li",[s._v("插件市场可与海量业内主流开发工具实现集成")]),s._v(" "),a("li",[s._v("Job 为配置单位与日志管理，使运维与开发人员能协同工作")]),s._v(" "),a("li",[s._v("权限管理划分不同 Job 不同角色")]),s._v(" "),a("li",[s._v("强大的负载均衡功能，保证我们项目的可靠性")])]),s._v(" "),a("p",[s._v("Jenkins 安装配置管理")]),s._v(" "),a("p",[s._v("安装 Jenkins 前的环境准备（CentOS7）")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("添加 yum 仓库源")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-O")]),s._v(" /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--import")]),s._v(" https://pkg.jenkins.io/redhat-stable/jenkins.io.key\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("保证系统 JAVA 版本为 8.0 或以上")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("关闭系统防火墙")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl stop firewalld\nsystemctl disable firewalld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("4.关闭 SELINUX 并重启系统，保证不影响 Jenkins 正常运行")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/selinux \n​``"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("SELINUX")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("disabled\n​"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("``\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("reboot")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])])]),s._v(" "),a("p",[s._v("Jenkins 安装与初始化")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("Yum 源安装 Jenkins 最新版本")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" jenkins \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("创建 Jenkins 系统用户，并赋予 Jenkins 目录权限")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" deploy\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" deploy:deploy /var/lib/jenkins \n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-R")]),s._v(" deploy:deploy /var/log/jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("更改 Jenkins 启动用户与端口")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/sysconfig/jenkins \n​``"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JENKINS_USER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("deploy \n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("JENKINS_PORT")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n​"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("``\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启动 Jenkins")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("systemctl start jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])]),s._v(" "),a("p",[s._v("Jenkins Job 介绍")]),s._v(" "),a("ul",[a("li",[s._v("代表一个任务或者项目")]),s._v(" "),a("li",[s._v("可配置与可执行")]),s._v(" "),a("li",[s._v("执行后的记录称之为Build")]),s._v(" "),a("li",[s._v("日志监控与记录")]),s._v(" "),a("li",[s._v("所有文件集中保存")])]),s._v(" "),a("p",[s._v("Jenkins Freestyle 与 Pipeline Job 区别")]),s._v(" "),a("p",[s._v("Freestyle Job")]),s._v(" "),a("ol",[a("li",[s._v("需在页面添加模块配置项与参数完成配置")]),s._v(" "),a("li",[s._v("每个 Job 仅能实现一个开发功能")]),s._v(" "),a("li",[s._v("无法将配置代码化，不利于 Job 配置迁移与版本控制")]),s._v(" "),a("li",[s._v("逻辑相对简单，无需额外学习成本")])]),s._v(" "),a("p",[s._v("Pipeline Job")]),s._v(" "),a("p",[s._v("匹配持续集成与持续交付的概念")]),s._v(" "),a("ol",[a("li",[s._v("所有模块，参数配置都可以体现为一个 pipeline 脚本")]),s._v(" "),a("li",[s._v("可以定义多个 stage 构建一个管道工作集")]),s._v(" "),a("li",[s._v("所有配置代码化，方便 Job 配置迁移与版本控制")]),s._v(" "),a("li",[s._v("需要 pipeline 脚本语法基础")])])])}),[],!1,null,null,null);a.default=t.exports}}]);