(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{340:function(t,a,s){"use strict";s.r(a);var n=s(4),r=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/01/DWXtte.png",alt:"image-20201130131907133"}})]),t._v(" "),a("h2",{attrs:{id:"ribbon概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon概述"}},[t._v("#")]),t._v(" Ribbon概述")]),t._v(" "),a("h3",{attrs:{id:"ribbon简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon简介"}},[t._v("#")]),t._v(" Ribbon简介")]),t._v(" "),a("ul",[a("li",[t._v("Ribbon是客户端负载均衡器")]),t._v(" "),a("li",[t._v("Ribbon核心功能：服务发现")]),t._v(" "),a("li",[t._v("Ribbon核心功能：服务选择规则")]),t._v(" "),a("li",[t._v("Ribbon核心功能：服务监听")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/02/DI9LJ1.png",alt:"image-20201201105530735"}})]),t._v(" "),a("h3",{attrs:{id:"ribbon依赖"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon依赖"}},[t._v("#")]),t._v(" Ribbon依赖")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- Ribbon依赖 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-cloud-starter-netflix-hystrix"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.cloud"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-cloud-starter-netflix-hystrix-dashboard"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("org.springframework.boot"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("spring-boot-starter-actuator"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h2",{attrs:{id:"ribbon与eureka整合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon与eureka整合"}},[t._v("#")]),t._v(" Ribbon与Eureka整合")]),t._v(" "),a("ul",[a("li",[t._v("Ribbon天然与Eureka无缝整合")]),t._v(" "),a("li",[t._v("通过@LoadBalance提供负载均衡支持")]),t._v(" "),a("li",[t._v("通过ribbon.eureka.enabled=false禁用Eureka")])]),t._v(" "),a("h2",{attrs:{id:"ribbon核心"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon核心"}},[t._v("#")]),t._v(" Ribbon核心")]),t._v(" "),a("h3",{attrs:{id:"ribbon核心之irule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon核心之irule"}},[t._v("#")]),t._v(" Ribbon核心之IRule")]),t._v(" "),a("ul",[a("li",[t._v("IRule通过特定算法选取要访问的服务")]),t._v(" "),a("li",[t._v("IRule常使用BestAvailableRule和WeightedResponseTimeRule")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/01/DWXd1A.png",alt:"image-20201130171356363"}})]),t._v(" "),a("h3",{attrs:{id:"ribbon核心之iping"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon核心之iping"}},[t._v("#")]),t._v(" Ribbon核心之IPing")]),t._v(" "),a("ul",[a("li",[t._v("IPing是Ribbon保证服务可用的基石")]),t._v(" "),a("li",[t._v("常见实现：NIWSDiscoveryPing、PingUrl")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s3.ax1x.com/2020/12/01/DWX0Xt.png",alt:"image-20201130173607564"}})]),t._v(" "),a("h3",{attrs:{id:"ribbon核心之serverlist"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon核心之serverlist"}},[t._v("#")]),t._v(" Ribbon核心之ServerList")]),t._v(" "),a("ul",[a("li",[t._v("ServerList是Ribbon存储的可用服务列表")]),t._v(" "),a("li",[t._v("ServerList可以手动设置")]),t._v(" "),a("li",[t._v("ServerList常见应用是从Eureka中自动获取")])]),t._v(" "),a("h2",{attrs:{id:"ribbon参数配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ribbon参数配置"}},[t._v("#")]),t._v(" Ribbon参数配置")]),t._v(" "),a("ul",[a("li",[t._v("默认参数配置：DefaultClientConfigImpl")]),t._v(" "),a("li",[t._v("Ribbon key定义：CommonClientConfigKey")]),t._v(" "),a("li",[t._v("Ribbon参数分为全局配置和指定客户端配置")]),t._v(" "),a("li",[t._v("参数格式："),a("code",[t._v("<client>.ribbon.<key>=<value>")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);