<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Class-设计模式 | CodeAshen&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <meta name="description" content="后端技术博客,专注后端技术学习与总结。Java,Python,JavaScript,TypeScript,Spring,css3,html5,Node,git,github等技术文章。">
    <meta name="keywords" content="后端博客,个人技术博客,后端,后端开发,后端框架,后端面试题,技术文档,学习,面试,Java,Python,JavaScript,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.d9c8cf8c.css" as="style"><link rel="preload" href="/assets/js/app.973ec296.js" as="script"><link rel="preload" href="/assets/js/2.6aaa6d1e.js" as="script"><link rel="preload" href="/assets/js/184.98755068.js" as="script"><link rel="prefetch" href="/assets/js/10.c128a7de.js"><link rel="prefetch" href="/assets/js/100.c5332952.js"><link rel="prefetch" href="/assets/js/101.472590ad.js"><link rel="prefetch" href="/assets/js/102.f697d18e.js"><link rel="prefetch" href="/assets/js/103.d8218fae.js"><link rel="prefetch" href="/assets/js/104.8851b38a.js"><link rel="prefetch" href="/assets/js/105.e9164174.js"><link rel="prefetch" href="/assets/js/106.fb403dea.js"><link rel="prefetch" href="/assets/js/107.ea7dbfb9.js"><link rel="prefetch" href="/assets/js/108.841273d4.js"><link rel="prefetch" href="/assets/js/109.a01a78fe.js"><link rel="prefetch" href="/assets/js/11.8d1708c7.js"><link rel="prefetch" href="/assets/js/110.8f5d172e.js"><link rel="prefetch" href="/assets/js/111.524e2bcf.js"><link rel="prefetch" href="/assets/js/112.b8a747e9.js"><link rel="prefetch" href="/assets/js/113.a9b1b9a0.js"><link rel="prefetch" href="/assets/js/114.7e4041d8.js"><link rel="prefetch" href="/assets/js/115.e2882f73.js"><link rel="prefetch" href="/assets/js/116.1d415864.js"><link rel="prefetch" href="/assets/js/117.71e63524.js"><link rel="prefetch" href="/assets/js/118.8986f793.js"><link rel="prefetch" href="/assets/js/119.80bcd61e.js"><link rel="prefetch" href="/assets/js/12.0132831e.js"><link rel="prefetch" href="/assets/js/120.dc2754a6.js"><link rel="prefetch" href="/assets/js/121.1dbe4441.js"><link rel="prefetch" href="/assets/js/122.446eb0a0.js"><link rel="prefetch" href="/assets/js/123.bac389f3.js"><link rel="prefetch" href="/assets/js/124.c087aa83.js"><link rel="prefetch" href="/assets/js/125.dcec8498.js"><link rel="prefetch" href="/assets/js/126.7e932ea3.js"><link rel="prefetch" href="/assets/js/127.2ae0bcd8.js"><link rel="prefetch" href="/assets/js/128.2d4ad1d9.js"><link rel="prefetch" href="/assets/js/129.4d6a08f8.js"><link rel="prefetch" href="/assets/js/13.209ff1e9.js"><link rel="prefetch" href="/assets/js/130.8936ad8a.js"><link rel="prefetch" href="/assets/js/131.11ca372c.js"><link rel="prefetch" href="/assets/js/132.9be75880.js"><link rel="prefetch" href="/assets/js/133.9955d166.js"><link rel="prefetch" href="/assets/js/134.5be1b51a.js"><link rel="prefetch" href="/assets/js/135.d0f8d2e0.js"><link rel="prefetch" href="/assets/js/136.ca304a24.js"><link rel="prefetch" href="/assets/js/137.1a0a904c.js"><link rel="prefetch" href="/assets/js/138.8ab30fee.js"><link rel="prefetch" href="/assets/js/139.cf78c4d4.js"><link rel="prefetch" href="/assets/js/14.d6134190.js"><link rel="prefetch" href="/assets/js/140.6c61677f.js"><link rel="prefetch" href="/assets/js/141.51ef4f6a.js"><link rel="prefetch" href="/assets/js/142.5a2feec0.js"><link rel="prefetch" href="/assets/js/143.f7200d74.js"><link rel="prefetch" href="/assets/js/144.1c36af9b.js"><link rel="prefetch" href="/assets/js/145.2ba88ed7.js"><link rel="prefetch" href="/assets/js/146.7ddd636f.js"><link rel="prefetch" href="/assets/js/147.835c06fe.js"><link rel="prefetch" href="/assets/js/148.5bfc3184.js"><link rel="prefetch" href="/assets/js/149.15658978.js"><link rel="prefetch" href="/assets/js/15.10140158.js"><link rel="prefetch" href="/assets/js/150.f1414565.js"><link rel="prefetch" href="/assets/js/151.6fe4a9f2.js"><link rel="prefetch" href="/assets/js/152.0694636f.js"><link rel="prefetch" href="/assets/js/153.d4a79e2b.js"><link rel="prefetch" href="/assets/js/154.f49c40b1.js"><link rel="prefetch" href="/assets/js/155.11c4af47.js"><link rel="prefetch" href="/assets/js/156.17a27449.js"><link rel="prefetch" href="/assets/js/157.03222e94.js"><link rel="prefetch" href="/assets/js/158.fd10abd2.js"><link rel="prefetch" href="/assets/js/159.7854cf98.js"><link rel="prefetch" href="/assets/js/16.deabf74a.js"><link rel="prefetch" href="/assets/js/160.bcceda6c.js"><link rel="prefetch" href="/assets/js/161.827af027.js"><link rel="prefetch" href="/assets/js/162.855aca43.js"><link rel="prefetch" href="/assets/js/163.72d27148.js"><link rel="prefetch" href="/assets/js/164.3e01c09c.js"><link rel="prefetch" href="/assets/js/165.e652258b.js"><link rel="prefetch" href="/assets/js/166.ecaa4581.js"><link rel="prefetch" href="/assets/js/167.e8ff99fa.js"><link rel="prefetch" href="/assets/js/168.02abfd0d.js"><link rel="prefetch" href="/assets/js/169.8fbd2db6.js"><link rel="prefetch" href="/assets/js/17.f69b8f6b.js"><link rel="prefetch" href="/assets/js/170.69e15007.js"><link rel="prefetch" href="/assets/js/171.cf706d56.js"><link rel="prefetch" href="/assets/js/172.3e4c3668.js"><link rel="prefetch" href="/assets/js/173.6ff18f12.js"><link rel="prefetch" href="/assets/js/174.453f4245.js"><link rel="prefetch" href="/assets/js/175.063163ca.js"><link rel="prefetch" href="/assets/js/176.edf6516c.js"><link rel="prefetch" href="/assets/js/177.c6ea414e.js"><link rel="prefetch" href="/assets/js/178.da8150fd.js"><link rel="prefetch" href="/assets/js/179.98958ecb.js"><link rel="prefetch" href="/assets/js/18.1a578fab.js"><link rel="prefetch" href="/assets/js/180.a98d2988.js"><link rel="prefetch" href="/assets/js/181.e7d9677d.js"><link rel="prefetch" href="/assets/js/182.dcae9e42.js"><link rel="prefetch" href="/assets/js/183.aee29579.js"><link rel="prefetch" href="/assets/js/185.82f47215.js"><link rel="prefetch" href="/assets/js/186.442d78c2.js"><link rel="prefetch" href="/assets/js/187.b37b3a63.js"><link rel="prefetch" href="/assets/js/188.b2405297.js"><link rel="prefetch" href="/assets/js/189.b3b59e8a.js"><link rel="prefetch" href="/assets/js/19.395617bc.js"><link rel="prefetch" href="/assets/js/190.ca137199.js"><link rel="prefetch" href="/assets/js/191.aa8a7422.js"><link rel="prefetch" href="/assets/js/192.270c2e56.js"><link rel="prefetch" href="/assets/js/193.e9d382d3.js"><link rel="prefetch" href="/assets/js/194.4d804198.js"><link rel="prefetch" href="/assets/js/195.b5b758e9.js"><link rel="prefetch" href="/assets/js/196.81bdc47b.js"><link rel="prefetch" href="/assets/js/197.3dd5c487.js"><link rel="prefetch" href="/assets/js/198.49c5c5e0.js"><link rel="prefetch" href="/assets/js/199.e4e9ff5b.js"><link rel="prefetch" href="/assets/js/20.af9c51b5.js"><link rel="prefetch" href="/assets/js/200.137782e2.js"><link rel="prefetch" href="/assets/js/201.cb4e5b2b.js"><link rel="prefetch" href="/assets/js/202.51abb277.js"><link rel="prefetch" href="/assets/js/203.83ed2d8a.js"><link rel="prefetch" href="/assets/js/21.cac71621.js"><link rel="prefetch" href="/assets/js/22.c51a3f6c.js"><link rel="prefetch" href="/assets/js/23.d9987c58.js"><link rel="prefetch" href="/assets/js/24.0b2c6cb2.js"><link rel="prefetch" href="/assets/js/25.c5aaf6b9.js"><link rel="prefetch" href="/assets/js/26.c4307053.js"><link rel="prefetch" href="/assets/js/27.27c8f8d4.js"><link rel="prefetch" href="/assets/js/28.b884b191.js"><link rel="prefetch" href="/assets/js/29.11a7cac3.js"><link rel="prefetch" href="/assets/js/3.52039520.js"><link rel="prefetch" href="/assets/js/30.e0296187.js"><link rel="prefetch" href="/assets/js/31.f612d60e.js"><link rel="prefetch" href="/assets/js/32.da15f932.js"><link rel="prefetch" href="/assets/js/33.06c4feab.js"><link rel="prefetch" href="/assets/js/34.fa726970.js"><link rel="prefetch" href="/assets/js/35.5dfa35dd.js"><link rel="prefetch" href="/assets/js/36.e8ee6c32.js"><link rel="prefetch" href="/assets/js/37.f34d8356.js"><link rel="prefetch" href="/assets/js/38.db8e9d1d.js"><link rel="prefetch" href="/assets/js/39.2d902803.js"><link rel="prefetch" href="/assets/js/4.94dce7a4.js"><link rel="prefetch" href="/assets/js/40.9b2c544f.js"><link rel="prefetch" href="/assets/js/41.bce99484.js"><link rel="prefetch" href="/assets/js/42.a0c6c78b.js"><link rel="prefetch" href="/assets/js/43.4e6aa9e5.js"><link rel="prefetch" href="/assets/js/44.ef9352e3.js"><link rel="prefetch" href="/assets/js/45.ae779112.js"><link rel="prefetch" href="/assets/js/46.fb4a183c.js"><link rel="prefetch" href="/assets/js/47.fae1056f.js"><link rel="prefetch" href="/assets/js/48.56b0b378.js"><link rel="prefetch" href="/assets/js/49.a6f88870.js"><link rel="prefetch" href="/assets/js/5.e01aaa8d.js"><link rel="prefetch" href="/assets/js/50.83e82362.js"><link rel="prefetch" href="/assets/js/51.e9419834.js"><link rel="prefetch" href="/assets/js/52.a1967369.js"><link rel="prefetch" href="/assets/js/53.94af57c3.js"><link rel="prefetch" href="/assets/js/54.b50e8783.js"><link rel="prefetch" href="/assets/js/55.8063724b.js"><link rel="prefetch" href="/assets/js/56.76bf8a2a.js"><link rel="prefetch" href="/assets/js/57.f9f3f777.js"><link rel="prefetch" href="/assets/js/58.f5fc8f65.js"><link rel="prefetch" href="/assets/js/59.6d369d87.js"><link rel="prefetch" href="/assets/js/6.07a7065d.js"><link rel="prefetch" href="/assets/js/60.5d94a162.js"><link rel="prefetch" href="/assets/js/61.0ad7c924.js"><link rel="prefetch" href="/assets/js/62.85956477.js"><link rel="prefetch" href="/assets/js/63.7e5be0fc.js"><link rel="prefetch" href="/assets/js/64.fbae5632.js"><link rel="prefetch" href="/assets/js/65.ddcfdbe6.js"><link rel="prefetch" href="/assets/js/66.b3dfda7e.js"><link rel="prefetch" href="/assets/js/67.6ee30a4e.js"><link rel="prefetch" href="/assets/js/68.71e1e060.js"><link rel="prefetch" href="/assets/js/69.4ed5537a.js"><link rel="prefetch" href="/assets/js/7.7a33a5a5.js"><link rel="prefetch" href="/assets/js/70.ad84b59a.js"><link rel="prefetch" href="/assets/js/71.136b2322.js"><link rel="prefetch" href="/assets/js/72.49c8fc99.js"><link rel="prefetch" href="/assets/js/73.7b0351b5.js"><link rel="prefetch" href="/assets/js/74.e7a0ce34.js"><link rel="prefetch" href="/assets/js/75.fc40be0c.js"><link rel="prefetch" href="/assets/js/76.bc90d4b8.js"><link rel="prefetch" href="/assets/js/77.0cb653a2.js"><link rel="prefetch" href="/assets/js/78.b692f5f9.js"><link rel="prefetch" href="/assets/js/79.effdc1de.js"><link rel="prefetch" href="/assets/js/8.17467f67.js"><link rel="prefetch" href="/assets/js/80.87603bda.js"><link rel="prefetch" href="/assets/js/81.4c9aac1e.js"><link rel="prefetch" href="/assets/js/82.54ab2e24.js"><link rel="prefetch" href="/assets/js/83.d34317d2.js"><link rel="prefetch" href="/assets/js/84.093a866c.js"><link rel="prefetch" href="/assets/js/85.dfe1b6bc.js"><link rel="prefetch" href="/assets/js/86.ffef04fb.js"><link rel="prefetch" href="/assets/js/87.52805dce.js"><link rel="prefetch" href="/assets/js/88.dd97eda8.js"><link rel="prefetch" href="/assets/js/89.425cc035.js"><link rel="prefetch" href="/assets/js/9.a64e81dc.js"><link rel="prefetch" href="/assets/js/90.3e58b256.js"><link rel="prefetch" href="/assets/js/91.711a6bba.js"><link rel="prefetch" href="/assets/js/92.3cc169cd.js"><link rel="prefetch" href="/assets/js/93.4e7bbb8c.js"><link rel="prefetch" href="/assets/js/94.e5c6ff23.js"><link rel="prefetch" href="/assets/js/95.adc48da9.js"><link rel="prefetch" href="/assets/js/96.84e8c33b.js"><link rel="prefetch" href="/assets/js/97.61e63949.js"><link rel="prefetch" href="/assets/js/98.fc0fb11b.js"><link rel="prefetch" href="/assets/js/99.b473d996.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d9c8cf8c.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="CodeAshen's blog" class="logo"> <span class="site-name can-hide">CodeAshen's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><a href="/spring/" class="link-title">Spring</a> <span class="title" style="display:none;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/32011a/" class="nav-link">《剖析Spring5核心原理》</a></li><li class="dropdown-subitem"><a href="/pages/af2fa0/" class="nav-link">《Spring源码轻松学》</a></li></ul></li><li class="dropdown-item"><h4>Spring Boot</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a18a7b/" class="nav-link">Spring Boot 2.0深度实践</a></li></ul></li><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f31975/" class="nav-link">Spring Cloud</a></li><li class="dropdown-subitem"><a href="/pages/722430/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/630854/" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/9b3698/" class="nav-link">RocketMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/c42700/" class="nav-link">Kafka</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4d1915/" class="nav-link">MySQL8.0详解</a></li><li class="dropdown-item"><!----> <a href="/pages/726b8d/" class="nav-link">Redis从入门到高可用</a></li><li class="dropdown-item"><!----> <a href="/pages/734bee/" class="nav-link">Elastic Stack</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="内功心法" class="dropdown-title"><a href="/foundation/" class="link-title">内功心法</a> <span class="title" style="display:none;">内功心法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cloud-native/" class="nav-link">云原生</a></li><li class="dropdown-item"><!----> <a href="/devops/" class="nav-link">Devops</a></li><li class="dropdown-item"><!----> <a href="/frontend/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/tools/" class="nav-link">实用工具</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/favorites/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/reference/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/reference/" class="nav-link">Reference</a></li></ul></div></div> <a href="https://github.com/codeashen/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.staticaly.com/gh/codeashen/img-store/master/blog/public/avatar.jpg"> <div class="blogger-info"><h3>CodeAshen</h3> <span>后端界的小学生</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Spring" class="dropdown-title"><a href="/spring/" class="link-title">Spring</a> <span class="title" style="display:none;">Spring</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Spring Framework</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/32011a/" class="nav-link">《剖析Spring5核心原理》</a></li><li class="dropdown-subitem"><a href="/pages/af2fa0/" class="nav-link">《Spring源码轻松学》</a></li></ul></li><li class="dropdown-item"><h4>Spring Boot</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/a18a7b/" class="nav-link">Spring Boot 2.0深度实践</a></li></ul></li><li class="dropdown-item"><h4>Spring Cloud</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/f31975/" class="nav-link">Spring Cloud</a></li><li class="dropdown-subitem"><a href="/pages/722430/" class="nav-link">Spring Cloud Alibaba</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><a href="/middleware/" class="link-title">中间件</a> <span class="title" style="display:none;">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/630854/" class="nav-link">RabbitMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/9b3698/" class="nav-link">RocketMQ</a></li><li class="dropdown-item"><!----> <a href="/pages/c42700/" class="nav-link">Kafka</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/4d1915/" class="nav-link">MySQL8.0详解</a></li><li class="dropdown-item"><!----> <a href="/pages/726b8d/" class="nav-link">Redis从入门到高可用</a></li><li class="dropdown-item"><!----> <a href="/pages/734bee/" class="nav-link">Elastic Stack</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="内功心法" class="dropdown-title"><a href="/foundation/" class="link-title">内功心法</a> <span class="title" style="display:none;">内功心法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/os/" class="nav-link">操作系统</a></li><li class="dropdown-item"><!----> <a href="/network/" class="nav-link">计算机网络</a></li><li class="dropdown-item"><!----> <a href="/algorithm/" class="nav-link">数据结构与算法</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cloud-native/" class="nav-link">云原生</a></li><li class="dropdown-item"><!----> <a href="/devops/" class="nav-link">Devops</a></li><li class="dropdown-item"><!----> <a href="/frontend/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/tools/" class="nav-link">实用工具</a></li><li class="dropdown-item"><!----> <a href="/friends/" class="nav-link">友情链接</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/favorites/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/reference/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li><li class="dropdown-item"><!----> <a href="/reference/" class="nav-link">Reference</a></li></ul></div></div> <a href="https://github.com/codeashen/notes" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Java</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/872aea/" class="sidebar-link">Note-JavaSE-Base</a></li><li><a href="/pages/18e12a/" aria-current="page" class="active sidebar-link">Class-设计模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#简单工厂模式" class="sidebar-link">简单工厂模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#工厂方法模式" class="sidebar-link">工厂方法模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#抽象工厂模式" class="sidebar-link">抽象工厂模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#建造者模式" class="sidebar-link">建造者模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#单例模式" class="sidebar-link">单例模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#原型模式" class="sidebar-link">原型模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#外观模式" class="sidebar-link">外观模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#装饰着模式" class="sidebar-link">装饰着模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#适配器模式" class="sidebar-link">适配器模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#享元模式" class="sidebar-link">享元模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#组合模式" class="sidebar-link">组合模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#桥接模式" class="sidebar-link">桥接模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#代理模式" class="sidebar-link">代理模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#模板方法模式" class="sidebar-link">模板方法模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#迭代器模式" class="sidebar-link">迭代器模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#策略模式" class="sidebar-link">策略模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#解释器模式" class="sidebar-link">解释器模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#观察者模式" class="sidebar-link">观察者模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#备忘录模式" class="sidebar-link">备忘录模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#命令模式" class="sidebar-link">命令模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#中介者模式" class="sidebar-link">中介者模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#责任链模式" class="sidebar-link">责任链模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#访问者模式" class="sidebar-link">访问者模式</a></li><li class="sidebar-sub-header level2"><a href="/pages/18e12a/#状态模式" class="sidebar-link">状态模式</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Gradle</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/categories/?category=%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80" title="分类" data-v-06225672>编程语言</a></li><li data-v-06225672><a href="/categories/?category=Java" title="分类" data-v-06225672>Java</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/codeashen" target="_blank" title="作者" class="beLink" data-v-06225672>CodeAshen</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-02-10</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">Class-设计模式<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="创建型设计模式"><a href="#创建型设计模式" class="header-anchor">#</a> 创建型设计模式</h1> <h2 id="简单工厂模式"><a href="#简单工厂模式" class="header-anchor">#</a> 简单工厂模式</h2> <p>定义：由工厂对象决定生产出哪一种产品实例</p> <p>类型：创建型，但不属于GOF23种设计模式</p> <p>适用场景：</p> <ul><li><p>工厂类负责创建的对象比较少</p></li> <li><p>客户端（应用层）只知道传入工厂类的参数，对如何创建对象（逻辑）不关心</p></li></ul> <p>优点：只需要传入一个正确的参数，就可以获取你所需要的对象，而无需知道其创建细节</p> <p>缺点：工厂类的职责相对过重，增加新的产品需要修改工厂类的判断逻辑，违背开闭原则</p> <p>源码实例：jdk中的Calendar类中的createCalendar方法就使用了简单工厂的模式，可以理解为Calendar类就是简单工厂类，createCalendar方法可以根据参数创建出不同的日期实例类</p> <h2 id="工厂方法模式"><a href="#工厂方法模式" class="header-anchor">#</a> 工厂方法模式</h2> <p>定义：定义一个创建对象的接口，但让实现这个接口的类来决定实例化哪个类。工厂方法让类的实例化推迟到子类中进行。</p> <p>适用场景：</p> <ul><li><p>创建对象需要大量重复的代码</p></li> <li><p>客户端（应用层）不依赖于产品类实例如何被创建、实现等细节</p></li> <li><p>一个类通过其子类来指定创建哪个对象</p></li></ul> <p>优点：</p> <ul><li><p>用户只需要关心所需要的产品对应的工厂，无需关心创建细节</p></li> <li><p>加入新产品符合开闭原则，提高可扩展性</p></li></ul> <p>缺点：</p> <ul><li><p>类的个数容易过多，增加复杂度</p></li> <li><p>增加了系统的抽象性和理解难度</p></li></ul> <p>源码实例：Collection接口可以看作一个抽象工厂，其中iterator方法就是获取迭代器产品的工厂方法，Collection的不同实现类看作不同的工厂，如ArrayList、HashSet等，通过他们的iterator方法可以得到不同的迭代器对象。</p> <h2 id="抽象工厂模式"><a href="#抽象工厂模式" class="header-anchor">#</a> 抽象工厂模式</h2> <p>定义：抽象工厂模式提供一个创建一系列相关或相互依赖的对象的接口，无需指定他们具体的类</p> <p>适用场景：</p> <ul><li><p>客户端（应用层）不依赖于产品实例如何被创建、实现等细节</p></li> <li><p>强调一系列相关产品对象（属于同一产品族）一起使用创建对象需要大量重复代码</p></li> <li><p>提供一个产品类的库，所有的产品以相同的接口出现，从而使客户端不依赖于具体实现</p></li></ul> <p>优点：</p> <ul><li><p>具体产品在应用层代码隔离，无需关心创建细节</p></li> <li><p>将一个系列的产品族统一到一起创建</p></li></ul> <p>缺点：</p> <ul><li><p>规定了所有可能被创建的产品集合，产品族中扩展新的产品比较困难，需要修改抽象工厂的接口</p></li> <li><p>增加了系统的抽象性和理解难度</p></li></ul> <blockquote><p>工厂方法模式针对的是产品等级，抽象工厂模式针对的是产品族</p></blockquote> <h2 id="建造者模式"><a href="#建造者模式" class="header-anchor">#</a> 建造者模式</h2> <p>定义：将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示</p> <p>用户只需要指定需要创建的类型就可以得到它们，建造过程及细节不需要知道</p> <p>适用场景：</p> <ul><li><p>如果一个对象有非常复杂的内部结构</p></li> <li><p>想把复杂的创建过程和使用分离</p></li></ul> <p>优点：</p> <ul><li><p>封装性好，创建和使用分离</p></li> <li><p>扩展性好，建造类之间独立，一定程度上解耦</p></li></ul> <p>缺点：</p> <ul><li>产生多余的builder对象</li> <li>产品内部发生变化，建造者都需要修改，成本较大</li></ul> <h2 id="单例模式"><a href="#单例模式" class="header-anchor">#</a> 单例模式</h2> <h2 id="原型模式"><a href="#原型模式" class="header-anchor">#</a> 原型模式</h2> <p>定义：指原型实例指定创建对象的种类，并且通过拷贝这些原型创建新的对象</p> <p>不需要知道任何创建细节，不调用构造函数。</p> <p>是在内存中进行二进制流的拷贝。</p> <p>适用场景：</p> <ul><li><p>初始化消耗很多资源</p></li> <li><p>new产生一个对象需要非常繁琐的过程</p></li> <li><p>构造函数比较复杂</p></li> <li><p>循环体中产生大量对象</p></li></ul> <p>优点：</p> <ul><li><p>原型模式性能比直接new一个对象高</p></li> <li><p>简化创建过程</p></li></ul> <p>缺点：</p> <ul><li><p>必须配备克隆方法</p></li> <li><p>对克隆复杂对象或对克隆出的对象进行复杂改造时，容易引入风险</p></li> <li><p>深拷贝、浅拷贝要运用得当</p></li></ul> <h1 id="机构型设计模式"><a href="#机构型设计模式" class="header-anchor">#</a> 机构型设计模式</h1> <h2 id="外观模式"><a href="#外观模式" class="header-anchor">#</a> 外观模式</h2> <p>定义：又叫门面模式，提供一个统一的接口用来访问系统中的一群接口</p> <p>外观模式定义了一个高层接口，让子系统更容易使用。</p> <p>适用场景：</p> <ul><li><p>当子系统越来越复杂，增加外观模式提供简单的调用接口</p></li> <li><p>构建多层系统结构，利用外观模式作为每层的入口，简化层间调用</p></li></ul> <p>优点：</p> <ul><li><p>简化了调用过程，无需深入了解子系统，防止带来风险</p></li> <li><p>减少系统依赖，松散耦合</p></li> <li><p>更好的划分访问层次</p></li> <li><p>符合迪米特法则，即最少知道原则</p></li></ul> <p>缺点：</p> <ul><li><p>增加子系统，扩展子系统行为，容易引入风险</p></li> <li><p>不符合开闭原则</p></li></ul> <p>与其他模式的关系：</p> <ul><li><p>外观模式和中介者模式</p> <p>外观模式关注的是外界和子系统之间的交互，而中介者模式关注的是子系统内部的交互</p></li> <li><p>外观模式和单例模式</p> <p>通常可以吧外观模式中的外观对象做成单例的</p></li> <li><p>外观模式和抽象工厂模式</p> <p>外观类可以通过抽象工厂获取子系统的实例，子系统可以将内部对外观类屏蔽</p></li></ul> <h2 id="装饰着模式"><a href="#装饰着模式" class="header-anchor">#</a> 装饰着模式</h2> <p>定义：在不改变原有对象的基础之上，将功能附加到对象上</p> <p>提供了比继承更富有弹性的替代方案（扩展原有功能）</p> <p>适用场景：</p> <ul><li><p>扩展一个类的功能过给一个类添加附加职责</p></li> <li><p>动态的给一个对象添加功能，这些功能可以再动态撤销</p></li></ul> <p>优点：</p> <ul><li><p>继承的有利补充，比继承灵活，不改变原有对象的情况下给一个对象扩展功能</p></li> <li><p>通过使用不同装饰类以及这些装饰类的排列组合，可以实现不同的效果</p></li> <li><p>符合开闭原则</p></li></ul> <p>缺点：</p> <ul><li><p>会出现更多的代码更多的类，增加程序复杂性</p></li> <li><p>动态装饰、多层装饰时会更复杂</p></li></ul> <p>相关模式：</p> <ul><li><p>装饰者模式和代理模式</p> <p>装饰者模式关注再对象上动态的添加方法，代理模式关注控制对对象的访问。</p> <p>代理模式的代理类可以隐藏被代理对象的信息。通常在使用代理模式的时候，会在代理对象中创建被代理对象的实例；而使用装饰者模式的时候，会将原始对象作为一个参数传递给装饰者类的构造器。</p></li> <li><p>装饰者模式和适配器模式</p> <p>装饰者和被装饰者可以实现相同的接口，或者装饰者是被装饰者的子类；适配器模式中适配器和被适配的类具有不同的接口，也有可能有部分接口重合。</p></li></ul> <p>源码实例：java.io包下有大量使用装饰者模式的类，如BufferedReader，继承被装饰类Reader，将Reader对象作为被装饰对象放在成员位置上</p> <h2 id="适配器模式"><a href="#适配器模式" class="header-anchor">#</a> 适配器模式</h2> <p>定义：将一个类的接口转换为调用方期望的接口，使原本接口不兼容的类可以一起工作</p> <p>适用场景：</p> <ul><li><p>已经存在的类，它的方法和需求不匹配时（方法结果相同或相似）</p></li> <li><p>不是软件设计考虑的设计模式，是随着软件维护，由于不同产品、不同厂家造成功能类似而接口不同情况下的解决方案</p></li></ul> <p>优点：</p> <ul><li><p>提高类的透明性和复用性，现有类服用而不需要改变</p></li> <li><p>目标类和适配器类解耦，提高程序扩展性</p></li></ul> <p>缺点：</p> <ul><li><p>适配器编写过程需要全面考虑，可能会增加系统的复杂性</p></li> <li><p>增加系统代码可读的难度</p></li></ul> <p>分类：</p> <ul><li><p>对象适配器：符合组合服用原则，使用委托机制</p></li> <li><p>类适配器：通过类继承实现</p></li></ul> <p>相关设计模式：</p> <ul><li><p>适配器模式和外观模式</p> <p>都是对现有的类现存的系统封装，外观模式定义了新的接口，适配器模式则是复用一个原有的接口；适配器支持两个原有的系统协同工作，外观接口则是在现有的系统中提供一个更为方便的访问入口</p></li></ul> <h2 id="享元模式"><a href="#享元模式" class="header-anchor">#</a> 享元模式</h2> <p>定义：提供了减少对象数量从而改善应用所需对象结构的方法</p> <p>运用共享技术有效地支持大量细粒度的对象</p> <p>适用场景：</p> <ul><li><p>常常应用于系统底层开发，以便解决系统性能问题</p> <blockquote><p>Java中的字符串常量池，数据库连接池</p></blockquote></li> <li><p>系统中有大量的相似对象、需要缓冲池的场景</p></li></ul> <p>优点：</p> <ul><li><p>减少对象的创建，减低内存中对象的数量，降低系统的内存，提高效率</p></li> <li><p>减少内存之外的的其他资源占用</p></li></ul> <p>缺点：</p> <ul><li><p>需要关注内/外部状态，关注线程安全问题</p></li> <li><p>使程序、系统逻辑复杂化</p></li></ul> <p>扩展</p> <p>内部状态：在享元对象的内部，并且不会随着环境变化而改变的对象，看作是享元对象的属性</p> <p>外部状态：会随着环境改变而变化的，比如通过享元模式获取享元对象时，通过不同的传参得到不同的结果</p> <p>相关模式</p> <ul><li><p>享元模式和单例模式</p> <p>容器单例，就是单例模式和享元模式的结合</p></li></ul> <h2 id="组合模式"><a href="#组合模式" class="header-anchor">#</a> 组合模式</h2> <p>定义：将对象组合成树形结构以表示“整体-部分”的层次结构</p> <p>组合模式使客户端对单个对象和组合对象保持一致的处理方式</p> <p>适用场景：</p> <ul><li><p>希望客户端可以忽略组合对象和个别对象的差异时</p></li> <li><p>处理一个树形结构时</p></li></ul> <p>优点：</p> <ul><li><p>清楚的定义分层次的复杂对象，表示对象的全部或部分层次</p></li> <li><p>让客户端忽略了层次的差别，方便对整个层次结构进行控制</p></li> <li><p>简化客户端代码</p></li> <li><p>符合开闭原则</p></li></ul> <p>缺点：</p> <ul><li><p>限制类型时会较为复杂</p></li> <li><p>使设计变得更加抽象</p></li></ul> <p>相关模式</p> <ul><li>组合模式和访问者模式：时一种组合应用，可以使用访问者模式访问组合模式中的递归结构</li></ul> <h2 id="桥接模式"><a href="#桥接模式" class="header-anchor">#</a> 桥接模式</h2> <p>定义：将抽象部分和它的具体实现部分分离，是他们可以独立的变化</p> <p>通过组合的方式建立两个类之间的联系，而不是继承</p> <p>适用场景：</p> <ul><li><p>抽象和具体实现之间增加更多的灵活性</p></li> <li><p>一个类存在两个（或多个）独立变化的维度，且这两个（或多个）维度都需要独立进行扩展</p></li> <li><p>不希望使用继承，或因为多层继承导致系统类个数剧增</p></li></ul> <p>优点：</p> <ul><li><p>分离抽象及其具体实现部分，使得抽象和实现可以沿着各自的维度来变化扩展</p></li> <li><p>投给了系统的可扩展性</p></li> <li><p>符合开闭原则</p></li> <li><p>符合合成复用原则</p></li></ul> <p>缺点：</p> <ul><li><p>增加了系统的理解和设计难度</p></li> <li><p>需要正确的识别出系统中两个独立变化的维度</p></li></ul> <p>相关设计模式：</p> <ul><li><p>桥接模式和组合模式：组合模式强调部分和整体见的组合；桥接模式强调的是平行级别各个类的组合</p></li> <li><p>桥接模式和适配器模式：都是为了让两个东西配合工作。适配器模式是改变原有的接口实现配合；桥接模式是分离抽象和实现，思想是分离。</p></li></ul> <h2 id="代理模式"><a href="#代理模式" class="header-anchor">#</a> 代理模式</h2> <p>定义：为其他对象提供一种代理，以控制对这个对象的访问</p> <p>代理对象在对客户端和目标对象之间起到中介的作用</p> <p>适用场景：</p> <ul><li><p>保护目标对象</p></li> <li><p>增强目标对象</p></li></ul> <p>优点：</p> <ul><li><p>代理模式能将代理对象与真实被调用的目标对象分离</p></li> <li><p>一定程度上降低了系统的耦合度，扩展性好</p></li> <li><p>保护目标对象</p></li> <li><p>增强目标对象</p></li></ul> <p>缺点：</p> <ul><li><p>代理模式会造成系统中类的数目增多</p></li> <li><p>在客户端和目标对象之间增加一个代理对象，会造成请求速度变慢</p></li> <li><p>增加了系统的复杂度</p></li></ul> <p>扩展</p> <ul><li><p>静态代理</p> <p>在代码种显示的定义了一个业务实现类来代理，在代理类中对同名的业务方法进行包装</p></li> <li><p>动态代理（针对接口）</p> <p>通过接口中的方法名，在动态生成的代理类中，调用被代理业务类的同名方法</p></li> <li><p>CGLib代理（针对实现类）</p> <p>会生成被代理类的子类，通过继承重写被代理类的方法，所以要关注类和方法上的final修饰符</p></li></ul> <p>Spring代理选择</p> <ul><li><p>当Bean实现了接口时，Spring会使用JDK动态代理</p></li> <li><p>当Bean没有实现接口时，Spring会使用CGLib代理</p></li> <li><p>可以强制使用cglib，在Spring配置中加入<code>&lt;aop:aspectj-autoproxy proxy-target-class=&quot;true&quot;&gt;</code></p></li></ul> <p>相关设计模式：</p> <ul><li><p>代理模式和装饰者模式：装饰者模式是为对象加上行为，而代理模式是控制访问，代理模式更加注重通过设置代理对象的方式增强目标对象</p></li> <li><p>代理模式和适配器模式：适配器模式是改变被适配类的接口，而代理模式不改变被代理类的接口</p></li></ul> <h1 id="行为型设计模式"><a href="#行为型设计模式" class="header-anchor">#</a> 行为型设计模式</h1> <h2 id="模板方法模式"><a href="#模板方法模式" class="header-anchor">#</a> 模板方法模式</h2> <p>定义：定义了一个算法的骨架，并允许子类为一个或多个步骤提供实现</p> <p>模板方法使得子类在不改变算法结构的情况下，重新定义算法的某些步骤</p> <p>适用场景：</p> <ul><li><p>一次性实现一个算法的不变部分，并将算法的可变行为交给子类实现</p></li> <li><p>个子类中公共的行为被提取出来并集中到一个公共的父类中，从而避免重复代码</p></li></ul> <p>优点：</p> <ul><li><p>提高复用性</p></li> <li><p>提高扩展性</p></li> <li><p>符合开闭原则</p></li></ul> <p>缺点：</p> <ul><li><p>类数目的增加</p></li> <li><p>增加了系统的复杂度</p></li> <li><p>继承关系自身的缺点，如果父类添加新的抽象方法，所有子类都要做修改</p></li></ul> <p>相关设计模式：</p> <ul><li><p>工厂方法模式：工厂方法是模板方法的一种特殊实现</p></li> <li><p>策略模式：都有封装算法。策略模式是向往不同的算法之间可以相互替换，并且不影响应用层的使用；而模板方法模式是定义一个算法的流程，将某些实现步骤交给子类实现。模板方法模式是不改变算法的流程的，而策略模式是可以改变算法流程的，并且可以相互替换。</p></li></ul> <h2 id="迭代器模式"><a href="#迭代器模式" class="header-anchor">#</a> 迭代器模式</h2> <p>定义：提供一种方法，顺序访问一个集合对象中的各个元素，而又不暴露对象的内部表示</p> <p>适用场景：</p> <ul><li><p>访问一个集合对象的内容而又无需暴露其内部表示</p></li> <li><p>为遍历不同的集合结构提供一个统一的接口</p></li></ul> <p>优点：</p> <ul><li>分离了集合对象的遍历行为</li></ul> <p>缺点：</p> <ul><li>类的个数成对增加</li></ul> <p>相关模式：</p> <ul><li>访问者模式：都是迭代的访问一个集合对象中的元素。而两者扩展开放的部分不同，访问者模式扩展开放的是对象的操作上，迭代器模式扩展开放的是集合对象的种类上</li></ul> <h2 id="策略模式"><a href="#策略模式" class="header-anchor">#</a> 策略模式</h2> <p>定义：定义了算法家族，风别封装起来，让它们之间可以互相替换，此模式让算法的变化不会影响到适用算法的用户。</p> <p>适用场景：</p> <ul><li><p>系统有很多类，而他们的区别仅仅在于行为不同</p></li> <li><p>一个系统需要动态地在几种算法中选择一种</p></li></ul> <p>优点：</p> <ul><li><p>开闭原则</p></li> <li><p>避免使用多重条件转移语句</p></li> <li><p>提高算法的保密性和安全性</p></li></ul> <p>缺点：</p> <ul><li><p>客户端必须知道所有的策略类，并自行决定适用哪一个策略类</p></li> <li><p>会产生大量的策略类</p></li></ul> <p>相关设计模式：</p> <ul><li><p>工厂模式：工厂模式接收不同的指令创建不同的对象，策略模式接收创建好的对象，执行不同的算法</p></li> <li><p>状态模式：策略模式的客户端需要知道适用何种策略，状态模式中客户端不需要关心具体状态，状态会自动转换</p></li></ul> <h2 id="解释器模式"><a href="#解释器模式" class="header-anchor">#</a> 解释器模式</h2> <p>定义：给定一个语言，定义它的文法的一种表示，并定义一个解释器，这个解释器使用该表示来解释语言的句子。</p> <p>为了解释一种语言，而为语言创建的解释器。</p> <p>适用场景：</p> <ul><li>在某个特定类型问题发生频率过高的时候</li></ul> <p>优点：</p> <ul><li>语言有很多种解释，容易改变及扩展此“语言”</li></ul> <p>缺点：</p> <ul><li>当语言规则过多时，增加了系统的复杂度</li></ul> <h2 id="观察者模式"><a href="#观察者模式" class="header-anchor">#</a> 观察者模式</h2> <p>定义：定义了对象之间的一对多依赖，让多个观察者对象同时监听某一个主题对象，当主题对象发生变化时，它的所有依赖者（观察者）都会收到通知并更新</p> <p>适用场景：</p> <ul><li>关联行为场景，建立一套触发机制</li></ul> <p>优点：</p> <ul><li><p>观察者和被观察者之间建立了一个抽象的耦合</p></li> <li><p>观察者模式支持广播通信</p></li></ul> <p>缺点：</p> <ul><li>观察之间有过多的细节依赖，提高时间消耗和程序复杂度</li></ul> <h2 id="备忘录模式"><a href="#备忘录模式" class="header-anchor">#</a> 备忘录模式</h2> <p>定义：保存某个对象的某个状态，以便在是适当的时候恢复对象</p> <p>适用场景：</p> <ul><li><p>保存及回复数据相关业务场景</p></li> <li><p>想恢复之前的状态</p></li></ul> <p>优点：</p> <ul><li><p>为用户提供一种可恢复机制</p></li> <li><p>存档信息封装</p></li></ul> <p>缺点：</p> <ul><li>资源占用</li></ul> <p>相关设计模式</p> <ul><li>状态模式：备忘录模式中是用实例表示状态，而在状态模式中是用类表示状态</li></ul> <h2 id="命令模式"><a href="#命令模式" class="header-anchor">#</a> 命令模式</h2> <p>定义：将“请求”封装成对象，以便使用不同的请求</p> <p>命令模式解决了应用程序中对象的职责以及它们之间的通信方式，可以使命令发送者和命令接收者完全解耦</p> <p>适用场景：</p> <ul><li><p>请求的调用者和请求的接收者需要解耦，使得调用者和接收者不直接交互</p></li> <li><p>需要抽象出等待接收的行为</p></li></ul> <p>优点：</p> <ul><li><p>降低耦合</p></li> <li><p>容易扩展新命令或一组命令</p></li></ul> <p>缺点：</p> <ul><li>命令无限扩展会增加类的数量，提高系统的复杂性</li></ul> <p>相关设计模式：</p> <ul><li>备忘录模式：经常结合起来使用，用备忘录模式保存命令的记录</li></ul> <h2 id="中介者模式"><a href="#中介者模式" class="header-anchor">#</a> 中介者模式</h2> <p>定义：定义一个 一组对象如何交互的 对象</p> <p>通过使对象明确地互相引用来促进松散耦合，并允许独立地改变他们的交互</p> <p>适用场景：</p> <ul><li><p>系统中对象之间存在复杂的引用关系，产生的相互依赖关系结构混乱且难以理解</p></li> <li><p>交互的公共行为，如果需要改变行为则可以增加新的中介者类</p></li></ul> <p>优点：</p> <ul><li><p>将一对多转换成了一对一，降低程序复杂度</p></li> <li><p>类之间解耦</p></li></ul> <p>缺点：</p> <ul><li>中介者类过多，导致系统复杂</li></ul> <p>相关设计模式：</p> <ul><li>观察者模式：有时候会结合使用，使用观察者模式来实现中介者模式中的角色间的通信</li></ul> <h2 id="责任链模式"><a href="#责任链模式" class="header-anchor">#</a> 责任链模式</h2> <p>定义：为请求创建一个接收此次请求对象的链</p> <p>适用场景：</p> <ul><li>一个请求的处理需要多个对象当中的一个或几个协作处理</li></ul> <p>优点：</p> <ul><li><p>请求的发送者和接收者（请求的处理）解耦</p></li> <li><p>责任链可以动态组合</p></li></ul> <p>缺点：</p> <ul><li><p>如果责任链太长或处理时间过长，影响性能</p></li> <li><p>责任链有可能过多</p></li></ul> <p>相关设计模式：</p> <ul><li>状态模式：责任链模式中各个对象并不指定下一个处理的对象者是谁，客户端来设置链条的顺序和元素，知道被某个元素处理或这个链条结束；状态模式需要每个状态对象知道下一个处理对象是谁</li></ul> <h2 id="访问者模式"><a href="#访问者模式" class="header-anchor">#</a> 访问者模式</h2> <p>定义：封装作用与某数据结构（如List、Set、Map等）中各元素的操作</p> <p>可以在不改变个元素类的定义前提下，定义作用与这些元素的操作</p> <p>适用场景：</p> <ul><li><p>一个数据结构（如List、Set、Map等）包含很多类型对象</p></li> <li><p>数据结构和数据操作分离</p></li></ul> <p>优点：</p> <ul><li>增加型的操作很容易，即增加一个新的访问者</li></ul> <p>缺点：</p> <ul><li><p>增加新的数据结构困难</p></li> <li><p>具体元素的变更比较困难</p></li></ul> <p>相关设计模式：</p> <ul><li>迭代器模式：共同点都是在某种数据结构上进行处理，访问者模式注重在数据结构上的元素进行某种特定的处理，迭代器模式注重遍历数据结构中的元素。</li></ul> <p>用的很少</p> <h2 id="状态模式"><a href="#状态模式" class="header-anchor">#</a> 状态模式</h2> <p>定义：允许一个对象在其内部状态改变时，改变它的行为</p> <p>适用场景：</p> <ul><li>一个对象存在多个状态（不同状态下行为不同），且状态可以相互转换</li></ul> <p>优点：</p> <ul><li><p>将不同状态隔离</p></li> <li><p>把各种状态的转换逻辑，分不到State的子类中，减少相互依赖</p></li> <li><p>增加新的状态非常简单</p></li></ul> <p>缺点：</p> <ul><li>在状态多的场景会导致类的数目增加，系统变复杂</li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/codeashen/notes/edit/master/docs/编程语言/10.Java/01.设计模式.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/06/04, 12:34:19</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/872aea/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Note-JavaSE-Base</div></a> <a href="/pages/4d7b55/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">01-Groovy快速开始</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/872aea/" class="prev">Note-JavaSE-Base</a></span> <span class="next"><a href="/pages/4d7b55/">01-Groovy快速开始</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/630854/"><div>
            第01章-RabbitMQ导学
            <!----></div></a> <span class="date">02-10</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/c2f425/"><div>
            第02章-入门RabbitMQ核心概念
            <!----></div></a> <span class="date">02-10</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/b09a03/"><div>
            第03章-RabbitMQ高级特性
            <!----></div></a> <span class="date">02-10</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:codeashen@foxmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/codeashen" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://space.bilibili.com/7403658/" title="BiliBili" target="_blank" class="iconfont icon-bilibili"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2020-2023
    <span>CodeAshen | <a href="https://github.com/codeashen/notes/blob/master/LICENSE" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.973ec296.js" defer></script><script src="/assets/js/2.6aaa6d1e.js" defer></script><script src="/assets/js/184.98755068.js" defer></script>
  </body>
</html>
