# 触发 full gc 的条件

- 调用 System.gc()
- 老年代空间不足 
- JDK 1.7 之前永久代空间不足 
- Minor GC 晋升到老年代的平均大小大于老年代的剩余空间 
- CMS GC 时出现 promotion failed， concurrent mode failure 
- 使用 RMI 来进行 RPC 或管理的 JDK 应用，每小时执行 1 次 Full GC

# 安全点 Safepoint

在可达性分析种要分析哪个对象没有引用的时候，必须在一个快照的状态点进行，在这个点，所有的线程都被冻结了，不可以出现分析过程中对象引用还在不停变化的情况，因此分析结果需要在某个结点具备确定性，该结点称之为安全点。

- 分析过程中对象引用关系不会发生变化的点
- 产生Safepoint的地方：方法调用；循环跳转；异常跳转等
- 安全点数量得适中

#  JVM 的两种运行模式

Server

Client

# 垃圾收集器

## 垃圾收集器之间的联系

![image-20210904231226482](https://z3.ax1x.com/2021/09/04/h2IymF.png)