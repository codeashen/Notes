(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{388:function(s,a,e){"use strict";e.r(a);var t=e(4),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"一、redis-特性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、redis-特性"}},[s._v("#")]),s._v(" 一、Redis 特性")]),s._v(" "),a("p",[s._v("Redis 是一个开源的基于键值的存储服务系统，支持多种数据结构，性能非常高，功能丰富。")]),s._v(" "),a("ul",[a("li",[s._v("速度快")]),s._v(" "),a("li",[s._v("持久化")]),s._v(" "),a("li",[s._v("多种数据机构")]),s._v(" "),a("li",[s._v("支持多种语言（协议简单，支持TCP）")]),s._v(" "),a("li",[s._v("功能丰富")]),s._v(" "),a("li",[s._v("简单（代码短小精悍，使用简单）")]),s._v(" "),a("li",[s._v("主从复制")])]),s._v(" "),a("p",[a("strong",[s._v("特性一：速度快")])]),s._v(" "),a("p",[s._v("官方称可达到 10W QPS")]),s._v(" "),a("ul",[a("li",[s._v("存储介质：内存")]),s._v(" "),a("li",[s._v("实现语言：C 语言")]),s._v(" "),a("li",[s._v("线程模型：单线程（内存读写速度非常快，使用单线程就能达到很高的性能，避免多线程造成的性能瓶颈）")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/05/27/2Pvdde.png",alt:"image-20210527175348363"}})]),s._v(" "),a("p",[s._v("最主要的原因：数据存在内存")]),s._v(" "),a("p",[a("strong",[s._v("特性二：持久化")])]),s._v(" "),a("p",[s._v("Redis 所有数据保持在内存中，对数据的更新将异步地保存到磁盘上。")]),s._v(" "),a("p",[a("strong",[s._v("特性三：多种数据结构")])]),s._v(" "),a("p",[s._v("五种基本数据结构：String、Linked List、Set、Sorted Set、Hash Table")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/05/27/2Pvozq.png",alt:"image-20210527175718385"}})]),s._v(" "),a("p",[s._v("新支持的数据结构：")]),s._v(" "),a("ul",[a("li",[s._v("BitMaps：位图（可以用于实现布隆过滤器）")]),s._v(" "),a("li",[s._v("HyperLogLog：超小内存唯一值计数")]),s._v(" "),a("li",[s._v("GEO：地理信息定位")])]),s._v(" "),a("p",[a("strong",[s._v("特性四：支持多种语言")])]),s._v(" "),a("p",[a("strong",[s._v("特性五：功能丰富")])]),s._v(" "),a("ul",[a("li",[s._v("发布订阅")]),s._v(" "),a("li",[s._v("Lua 脚本")]),s._v(" "),a("li",[s._v("事务")]),s._v(" "),a("li",[s._v("Pipeline")])]),s._v(" "),a("p",[a("strong",[s._v("特性六：简单")])]),s._v(" "),a("ul",[a("li",[s._v("单机核心代码只有 23000 行")]),s._v(" "),a("li",[s._v("不依赖于外部库")]),s._v(" "),a("li",[s._v("单线程模型")])]),s._v(" "),a("p",[a("strong",[s._v("特性七：主从复制")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/05/27/2PzEuV.png",alt:"image-20210527180830960"}})]),s._v(" "),a("p",[a("strong",[s._v("特性八：高可用、分布式")])]),s._v(" "),a("ul",[a("li",[s._v("高可用：Redis-Sentinel（v2.4 之后）")]),s._v(" "),a("li",[s._v("分布式：Redis-Cluster（v3.0 之后）")])]),s._v(" "),a("h1",{attrs:{id:"二、redis-典型适用场景"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、redis-典型适用场景"}},[s._v("#")]),s._v(" 二、Redis 典型适用场景")]),s._v(" "),a("ol",[a("li",[s._v("缓存系统")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/05/27/2iC7l9.png",alt:"image-20210527184124224"}})]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("计数器：适用 Redis 提供的 incr、decr，可以在单线程下高效计数")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/05/27/2iCzfe.png",alt:"image-20210527184312463"}})]),s._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[a("p",[s._v("消息队列系统：Redis 提供发布订阅功能，可以用于一些简单的消息队列功能")])]),s._v(" "),a("li",[a("p",[s._v("排行榜：适用 Redis 的有序集合实现")])]),s._v(" "),a("li",[a("p",[s._v("社交网络：Redis 跟社交网络很多功能吻合，如粉丝数、关注数、共同关注、时间轴列表等")])]),s._v(" "),a("li",[a("p",[s._v("实时系统：布隆过滤器等")])])]),s._v(" "),a("h1",{attrs:{id:"三、redis-安装和启动"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#三、redis-安装和启动"}},[s._v("#")]),s._v(" 三、Redis 安装和启动")]),s._v(" "),a("h2",{attrs:{id:"_3-1-redis-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-redis-安装"}},[s._v("#")]),s._v(" 3.1 Redis 安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 下载安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://download.redis.io/releases/redis-3.0.7.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-zxvf")]),s._v(" redis-3.0.7.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 建立软连接（可选）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" redis-3.0.7 redis\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 编译")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("可执行文件说明")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("redis-server")]),s._v("：Redis 服务器")]),s._v(" "),a("li",[a("code",[s._v("redis-cli")]),s._v("：Redis 命令行客户端")]),s._v(" "),a("li",[a("code",[s._v("redis-batchmark")]),s._v("：Redis 性能测试工具")]),s._v(" "),a("li",[a("code",[s._v("redis-check-aof")]),s._v("：AOF 文件修复工具")]),s._v(" "),a("li",[a("code",[s._v("redis-check-dump")]),s._v("：RDB 文件修复工具")]),s._v(" "),a("li",[a("code",[s._v("redis-sentinel")]),s._v("：Sentinel 服务器")])]),s._v(" "),a("h2",{attrs:{id:"_3-2-redis-三种启动方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-redis-三种启动方式"}},[s._v("#")]),s._v(" 3.2 Redis 三种启动方式")]),s._v(" "),a("p",[a("strong",[s._v("方式一：默认方式启动")])]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动 redis")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" redis-server\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 验证")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看进程")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 查看端口是否处于监听")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-antpl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" redis\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 用客户端验证")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" port "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ping")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[a("strong",[s._v("方式二：指定参数启动")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" redis-server "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--port")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6380")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("方式三：配置文件启动")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" redis-server "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("configPath"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("三种方式比较")]),s._v(" "),a("ul",[a("li",[s._v("生成环境选择配置文件启动")]),s._v(" "),a("li",[s._v("单机多实例配置文件可以用端口区分开")])]),s._v(" "),a("p",[s._v("Redis 客户端连接：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" port\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-3-redis-常用配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-redis-常用配置"}},[s._v("#")]),s._v(" 3.3 Redis 常用配置")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("daemonize")]),s._v("：是否以守护进程启动（no|yes）（默认 no，建议 yes）")]),s._v(" "),a("li",[a("code",[s._v("port")]),s._v("：Redis 对外端口号")]),s._v(" "),a("li",[a("code",[s._v("logfile")]),s._v("：Redis 系统日志")]),s._v(" "),a("li",[a("code",[s._v("dir")]),s._v("：Redis 工作目录")])])])}),[],!1,null,null,null);a.default=r.exports}}]);