# 一、虚拟化

## 1.1 虚拟化概述

传统物理机

![image-20210107104148058](https://s3.ax1x.com/2021/01/07/selWO1.png)

* 部署非常慢
* 成本非常高
* 资源浪费
* 难于迁移和扩展
* 可能会被限定硬件厂商

虚拟化技术出现后

![image-20210107104321775](https://s3.ax1x.com/2021/01/07/sel5TK.png)

* 一个物理机可以部署多个 app
* 每个 app 独立运行在一个 VM 里

## 1.2 虚拟化的优缺点

虚拟化技术的优点

* 资源池：一个物理机的资源分配到了不同的虚拟机里
* 很容易扩展：加物理机器 or 加虚拟机
* 很容易云化：亚马逊 AWS，阿里云等

虚拟化的局限性

每一个虚拟机都是一个完整的操作系统，要给其分配资源，当虚拟机数量增多时，操作系统本身消耗的资源势必增多

# 二、容器技术

## 2.1 容器概述

容器解决了什么问题？

* 解决了开发和运维之间的矛盾
* 在开发和运维之间搭建了一个桥梁，是实现 devops 的最佳解决方案

什么是容器？

![image-20210107104817701](https://s3.ax1x.com/2021/01/07/selTYD.png)

* 对软件和其依赖的标准化打包
* 应用之间相互隔离
* 共享同一个 OS Kernel
* 可以运行在很多主流操作系统上

## 2.2 容器和虚拟化

容器和虚拟机的区别

![image-20210107105533400](https://s3.ax1x.com/2021/01/07/selbSH.png)

容器是 APP 层面的隔离

![image-20210107105545035](https://s3.ax1x.com/2021/01/07/seljmt.png)

虚拟化是物理资源层面的隔离

虚拟化 + 容器：

![image-20210107110206372](https://s3.ax1x.com/2021/01/07/selv0P.png)

docker 是容器技术的一种实现

![image-20210107110254838](https://s3.ax1x.com/2021/01/07/se1ptS.png)