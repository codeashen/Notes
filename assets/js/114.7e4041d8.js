(window.webpackJsonp=window.webpackJsonp||[]).push([[114],{437:function(t,s,v){"use strict";v.r(s);var _=v(4),a=Object(_.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"fiddler介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler介绍"}},[t._v("#")]),t._v(" Fiddler介绍")]),t._v(" "),s("h2",{attrs:{id:"fiddler简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler简介"}},[t._v("#")]),t._v(" Fiddler简介")]),t._v(" "),s("ul",[s("li",[t._v("Fiddler是位于客户端和服务器端的HTTP代理")]),t._v(" "),s("li",[t._v("目前最常用的http抓包工具之一")]),t._v(" "),s("li",[t._v("功能非常强大，是web调试的利器\n"),s("ul",[s("li",[t._v("监控浏览器所有的HTTP/HTTPS流量")]),t._v(" "),s("li",[t._v("查看、分析请求内容细节")]),t._v(" "),s("li",[t._v("伪造客户端请求和服务器响应")]),t._v(" "),s("li",[t._v("测试网站的性能")]),t._v(" "),s("li",[t._v("解密HTTPS的web会话")]),t._v(" "),s("li",[t._v("全局、局部断点功能")]),t._v(" "),s("li",[t._v("第三方插件")])])]),t._v(" "),s("li",[t._v("使用场景\n"),s("ul",[s("li",[t._v("接口调试、接口测试、线上环境调试、web性能分析")]),t._v(" "),s("li",[t._v("判断前后端bug、开发环境hosts配置、mock、弱网断网")])])])]),t._v(" "),s("h2",{attrs:{id:"fiddler原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler原理"}},[t._v("#")]),t._v(" Fiddler原理")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22iH2R.png",alt:"image-20210326002135375"}})]),t._v(" "),s("p",[t._v("Fiddler一打开就会设置一个系统代理，是本机的8888端口， Chrome浏览器等会使用该代理，然后Fiddler监听这个端口就可以抓到数据包了。")]),t._v(" "),s("blockquote",[s("p",[t._v("打开Fiddler后，查看windows的 "),s("em",[t._v("设置 -> 网络和Internet -> 代理")]),t._v("  可以看到设置的代理信息")])]),t._v(" "),s("h1",{attrs:{id:"fiddler界面介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler界面介绍"}},[t._v("#")]),t._v(" Fiddler界面介绍")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22iLKx.png",alt:"image-20210326010118621"}})]),t._v(" "),s("h2",{attrs:{id:"菜单栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单栏"}},[t._v("#")]),t._v(" 菜单栏")]),t._v(" "),s("ul",[s("li",[t._v("File：重新打开视图、导入导出会话等")]),t._v(" "),s("li",[t._v("Edit：复制、移除、选择、粘贴、查找会话等")]),t._v(" "),s("li",[t._v("Rules：隐藏规则、自动断点、脚本设置、弱网测试等\n"),s("ul",[s("li",[t._v("隐藏图片、建立通道的会话")]),t._v(" "),s("li",[t._v("隐藏304响应")])])]),t._v(" "),s("li",[t._v("Tool：Fiddler设置、windows设置、清除IE缓存Cookie、编码解码工具、会话比较、重置脚本、host设置等")]),t._v(" "),s("li",[t._v("View：展示或隐藏各种视图")]),t._v(" "),s("li",[t._v("Help：帮助")])]),t._v(" "),s("h2",{attrs:{id:"工具栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工具栏"}},[t._v("#")]),t._v(" 工具栏")]),t._v(" "),s("ul",[s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22iOr6.png"}}),t._v("添加注释：标记接口，或导入导出时候有用，方便别人查看")]),t._v(" "),s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22iXqK.png"}}),t._v("重放请求：Shift+R 重放n次，串行的，非并发")]),t._v(" "),s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22ivVO.png"}}),t._v("释放断点")]),t._v(" "),s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22ixaD.png"}}),t._v("保持的会话个数")]),t._v(" "),s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22izIe.png"}}),t._v("监听进程：点住拖到Chrome上可以只监听Chrome")]),t._v(" "),s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FpPH.png"}}),t._v("清除IE缓存")]),t._v(" "),s("li",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22F9Gd.png"}}),t._v("文本编码解码器：有URL编码、Base64、MD5等多种")])]),t._v(" "),s("h2",{attrs:{id:"会话列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#会话列表"}},[t._v("#")]),t._v(" 会话列表")]),t._v(" "),s("ol",[s("li",[t._v("[#]--HTTP Request的顺序，从1开始，按照页面加载请求的顺序递增。")]),t._v(" "),s("li",[t._v("[Result]--HTTP响应的状态，可以参考这里。")]),t._v(" "),s("li",[t._v("[Protocol]——请求使用的协议（如HTTP/HTTPS/FTP）")]),t._v(" "),s("li",[t._v("[Host]—-请求地址的域名")]),t._v(" "),s("li",[t._v("[URL]—-请求的服务器路径和文件名，也包括GET参数")]),t._v(" "),s("li",[t._v("[BODY]——请求的大小，以byte为单位")]),t._v(" "),s("li",[t._v("[Caching]—-请求的缓存过期时间或缓存控制 header 等值")]),t._v(" "),s("li",[t._v("[Content-Type]—-请求响应的类型（Content-Type)")]),t._v(" "),s("li",[t._v("[Process]—-发出此请求的windows进程及进程ID")]),t._v(" "),s("li",[t._v("[Comments]—-用户通过脚本或者右键菜单给此session增加的备注")]),t._v(" "),s("li",[t._v("[Custom]--用户可以通过脚本设置的自定义值")])]),t._v(" "),s("h2",{attrs:{id:"命令行-状态栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命令行-状态栏"}},[t._v("#")]),t._v(" 命令行&状态栏")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("黑色命令行：可以执行一些命令操作")]),t._v(" "),s("ul",[s("li",[t._v("`bpu xxx ：带有xxx的请求都设置断点，不加xxx清除断点")])])]),t._v(" "),s("li",[s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FCRA.png"}}),t._v("是否设置代理：即是非启动Fiddler监听")])]),t._v(" "),s("li",[s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FPxI.png"}}),t._v("监控的进程：浏览器、非浏览器、无等")])]),t._v(" "),s("li",[s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FFMt.png"}}),t._v("断点：在进程选择右边，正常是一个空白，点一次设置请求前断点，点两次设置响应后断点")])])]),t._v(" "),s("h2",{attrs:{id:"辅助标签-工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#辅助标签-工具"}},[t._v("#")]),t._v(" 辅助标签&工具")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("Statistics：请求的时间统计，HTTP请求的性能和其他数据分析，如DNS解析的时间，建立TCP/IP连接的时间消耗等信息")])]),t._v(" "),s("li",[s("p",[t._v("Inspectors：检查器，可以多种方式查看请求的请求报文和响应报文相关信息")])]),t._v(" "),s("li",[s("p",[t._v("AutoResponder：自动响应器，可用于拦截某一请求，进行如下操作：")]),t._v(" "),s("ul",[s("li",[t._v("重定向到本地的资源")]),t._v(" "),s("li",[t._v("使用Fiddler的内置响应")]),t._v(" "),s("li",[t._v("自定义响应")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FAqf.png",alt:"image-20210326020842862"}})])]),t._v(" "),s("li",[s("p",[t._v("Composer：请求发送器，可自行填写，也可拖动请求到Composer上")])]),t._v(" "),s("li",[s("p",[t._v("Filter：过滤器，多维度的过滤规则，可根据主机、进程、请求头、响应头、状态码、响应类型和大小、断点进行请求的过滤")]),t._v(" "),s("ul",[s("li",[t._v("主机：分解局域网、广域网、host名称过滤")]),t._v(" "),s("li",[t._v("客户端进程：根据进程过滤")]),t._v(" "),s("li",[t._v("请求头：显示/隐藏URL中包含关键字、标记含指定header的、删除指定header、添加header")]),t._v(" "),s("li",[t._v("断点：根据请求方法、响应内容等设置断点")]),t._v(" "),s("li",[t._v("响应状态码：根据状态码控制显隐")]),t._v(" "),s("li",[t._v("相应类型大小：根据条件控制显隐")]),t._v(" "),s("li",[t._v("响应头：标记、设置、添加响应头")])])])]),t._v(" "),s("h1",{attrs:{id:"fiddler功能介绍"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler功能介绍"}},[t._v("#")]),t._v(" Fiddler功能介绍")]),t._v(" "),s("h2",{attrs:{id:"断点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#断点"}},[t._v("#")]),t._v(" 断点")]),t._v(" "),s("p",[t._v("设置断点有两种方式，全局断点和局部断点")]),t._v(" "),s("p",[s("strong",[t._v("1. 全局断点")])]),t._v(" "),s("p",[t._v("全局断点的设置如下图所示，两个地方都可以设置，下面状态栏点一下为 Before Requests，两下为After Response， 三下取消")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FZdS.png",alt:"image-20210327004243758"}})]),t._v(" "),s("p",[s("strong",[t._v("2. 局部断点")])]),t._v(" "),s("p",[t._v("局部断点要使用命令行设置")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("请求前断点 "),s("code",[t._v("bpu xxx")])]),t._v(" "),s("p",[t._v("url中含有关键字xxx的请求服务器前被阻塞， 不带关键字xxx取消断点")])]),t._v(" "),s("li",[s("p",[t._v("响应后断点 "),s("code",[t._v("bpafter xxx")])]),t._v(" "),s("p",[t._v("url中含有关键字xxx的服务器响应后被阻塞，不带关键字xxx取消断点")])])]),t._v(" "),s("h2",{attrs:{id:"弱网测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#弱网测试"}},[t._v("#")]),t._v(" 弱网测试")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://z3.ax1x.com/2021/06/10/22FeIg.png",alt:"image-20210327010208519"}})]),t._v(" "),s("p",[t._v("上图中，勾选①处，开启弱网环境。若要自定义弱网程度，点击②处自动打开脚本，查找"),s("code",[t._v("m_SimulateModem")]),t._v(" 找到如下内容")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m_SimulateModem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求每发送1KB延迟300毫秒")]),t._v("\n    oSession"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"request-trickle-delay"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"300"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 响应每下载1KB延迟150毫秒")]),t._v("\n    oSession"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"response-trickle-delay"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"150"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h2",{attrs:{id:"https抓包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#https抓包"}},[t._v("#")]),t._v(" HTTPS抓包")]),t._v(" "),s("p",[t._v("Tools > Options > HTTPS > Decrypt HTTPS traffic")]),t._v(" "),s("h2",{attrs:{id:"app抓包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#app抓包"}},[t._v("#")]),t._v(" App抓包")]),t._v(" "),s("p",[t._v("电脑端设置：")]),t._v(" "),s("ol",[s("li",[t._v("点击 Tools > Fiddler Options > Connections.")]),t._v(" "),s("li",[t._v("勾选 "),s("code",[t._v("Allow remote computers to connect")])]),t._v(" "),s("li",[t._v("重启Fiddler")]),t._v(" "),s("li",[t._v("确保防火墙允许Fiddler进程可以远程连接")])]),t._v(" "),s("p",[t._v("移动端设置：")]),t._v(" "),s("ol",[s("li",[t._v("打开 设置>WLAN>连接上的WLAN设置，点击代理>手动，设置主机名为Fiddler所在主机的IP，端口为Fiddler监听端口")]),t._v(" "),s("li",[t._v("设备连接WiFi（保证在一个局域网），确保设备可以访问到"),s("code",[t._v("http://电脑IP:8888")]),t._v("，该地址会返回Fiddler Echo Service页面")])]),t._v(" "),s("p",[t._v("此时手机上的请求就可以在Fiddler上看到了，有时候有些请求抓不到，可能需要手机端安装证书，步骤如下：")]),t._v(" "),s("ol",[s("li",[t._v("点击页面底部FiddlerRoot certificate下载证书")]),t._v(" "),s("li",[t._v("打开 设置>更多设置>系统安全>加密与凭据>从存储设备安装，选择下载好的FiddlerRoot.cer进行安装")]),t._v(" "),s("li",[t._v("浏览器打开"),s("code",[t._v("https://www.baidu.com")]),t._v("，已经可以抓取HTTPS包了")]),t._v(" "),s("li",[t._v("注意：测试完毕，记得关闭代理，否则手机无法上网")])]),t._v(" "),s("blockquote",[s("p",[t._v("ios设备安装证书略有不同：")]),t._v(" "),s("p",[t._v("打开FiddlerRoot.cer文件并安装安装成功后，在 通用>关于本机>证书信任设置 中，信任刚安装的Fiddler证书")])]),t._v(" "),s("h2",{attrs:{id:"fiddler插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiddler插件"}},[t._v("#")]),t._v(" Fiddler插件")]),t._v(" "),s("p",[t._v("Willow：方便的管理多环境规则，增强版的AutoResponder")])])}),[],!1,null,null,null);s.default=a.exports}}]);